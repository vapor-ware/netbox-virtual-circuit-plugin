{% extends 'base.html' %}

{% block content %}
{% with config=settings.PLUGINS_CONFIG.netbox_virtual_circuit_plugin %}
    <h1>Virtual Circuit {{ virtual_circuit.vcid }} ({{ virtual_circuit.name }})</h1>
    <table class="table">
        <tr>
            <th> ID </th>
            <th> Name </th>
            <th> Status </th>
            <th> Members </th>
        </tr>
        {% for vlan in vlans %}
        <tr>
            <td><a href="{% url 'ipam:vlan_list' %}{{ vlan.pk }}">{{ vlan.vid }}</a></td>
            <td>{{ vlan.name }}</td>
            <td>{{ vlan.status }}</td>

            <!-- FIXME: will there be a case where multiple interface is attached to a VLAN?  -->
            <td>{{ vlan.get_members.0 }}</td>
        </tr>
        {% empty %}
        <tr>
            <td>No vlans found!</td>
        </tr>
    {% endfor %}
    </table>
{% endwith %}
{% endblock %}
